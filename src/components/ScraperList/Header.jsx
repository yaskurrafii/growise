import { useState } from "react";
import { Radio, Space } from "antd";
import { PaginationStep } from "./PaginationStep";

export const Header = ({ isOpen, setOpenTable, setFeedOption, feedOption }) => {
  const [toggleFeedOptions, setToggleFeedOptions] = useState(false);
  const toggleTable = () => {
    setOpenTable(!isOpen);
  };

  const onChangeFeedOption = (event) => {
    setFeedOption(event.target.value);
  };

  return (
    <div className="scraper-list__header d-flex rounded-top-3 px-4 py-3 justify-content-between">
      <div className="scraper-list__header-left d-flex align-items-center gap-3">
        <div className="scraper-list__header__name">
          Extract Data Template-kkday Global Paradise List
        </div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="17"
          height="17"
          viewBox="0 0 17 17"
          fill="none"
        >
          <path
            d="M9.2295 12.7502C9.26492 13.246 9.37825 13.7277 9.56242 14.1668H4.60409C3.54159 14.1668 2.61367 13.8127 1.84867 13.0547C1.09075 12.311 0.708252 11.3972 0.708252 10.3277C0.708252 9.40683 0.984502 8.58516 1.537 7.86266C2.0895 7.14016 2.83325 6.67975 3.71867 6.48141C4.01617 5.39766 4.60409 4.51933 5.4895 3.84641C6.37492 3.1735 7.38075 2.8335 8.49992 2.8335C9.88117 2.8335 11.0499 3.31516 12.0133 4.2785C12.9766 5.24183 13.4583 6.41058 13.4583 7.79183H13.5291C13.0049 7.84141 12.502 7.95475 12.0416 8.146V7.79183C12.0416 6.81433 11.6874 5.9785 11.0074 5.28433C10.3133 4.60433 9.47742 4.25016 8.49992 4.25016C7.52242 4.25016 6.68658 4.60433 5.99242 5.28433C5.31242 5.9785 4.95825 6.81433 4.95825 7.79183H4.60409C3.917 7.79183 3.33617 8.03266 2.8545 8.52141C2.36575 9.00308 2.12492 9.58391 2.12492 10.271C2.12492 10.9581 2.36575 11.5389 2.8545 12.0418C3.33617 12.5093 3.917 12.7502 4.60409 12.7502H9.2295ZM13.4583 9.56266V8.50016L11.8645 10.0939L13.4583 11.6877V10.6252C13.9279 10.6252 14.3783 10.8117 14.7104 11.1438C15.0425 11.4759 15.2291 11.9263 15.2291 12.396C15.2291 12.6793 15.1653 12.9485 15.0449 13.1893L15.817 13.9614C16.1145 13.5152 16.2916 12.9768 16.2916 12.396C16.2916 10.8306 15.0237 9.56266 13.4583 9.56266ZM13.4583 14.1668C12.9886 14.1668 12.5382 13.9803 12.2061 13.6482C11.874 13.3161 11.6874 12.8657 11.6874 12.396C11.6874 12.1127 11.7512 11.8435 11.8716 11.6027L11.0995 10.8306C10.802 11.2768 10.6249 11.8152 10.6249 12.396C10.6249 13.9614 11.8928 15.2293 13.4583 15.2293V16.2918L15.052 14.6981L13.4583 13.1043V14.1668Z"
            fill="white"
          />
        </svg>
        <div className="scraper-list__header--status">Saving...</div>
      </div>
      <div className="scraper-list__header__right d-flex align-items-center gap-3">
        <div className="scraper-list__header__pages">
          單頁資料筆數: 50 筆 / 頁數: 1 頁(無換頁) / 總項目數: 50 筆
        </div>
        <div className="position-relative">
          <button
            onClick={() => setToggleFeedOptions(!toggleFeedOptions)}
            className="scraper-list__header__right--dropdown-btn d-flex align-items-center gap-3"
          >
            <span>page feed option</span>
            <svg
              width="11"
              height="8"
              viewBox="0 0 11 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M10.8934 0.571289H9.88891C9.82061 0.571289 9.75632 0.604771 9.71614 0.659682L5.91123 5.90433L2.10632 0.659682C2.06614 0.604771 2.00186 0.571289 1.93355 0.571289H0.92909C0.842036 0.571289 0.791143 0.670396 0.842036 0.741379L5.56436 7.25165C5.73579 7.48736 6.08668 7.48736 6.25677 7.25165L10.9791 0.741379C11.0313 0.670396 10.9804 0.571289 10.8934 0.571289Z"
                fill="black"
                fill-opacity="0.25"
              />
            </svg>
          </button>
          {toggleFeedOptions && (
            <div className="scraper-list__header__right--dropdown-items position-absolute">
              <Radio.Group
                className="scraper-list__header__right--dropdown-items-radio"
                onChange={onChangeFeedOption}
                value={feedOption}
              >
                <Space
                  className="scraper-list__header__right--dropdown-items-container"
                  direction="vertical"
                >
                  <Radio id="no-pagination" value={1}>
                    No Pagination
                  </Radio>
                  <Radio id="click-pagination" value={2}>
                    <Space size={0} direction="vertical">
                      Click Pagination
                      <span className="scraper-list__header__right--dropdown-items--desc">
                        當列表項分佈在多個頁面時使用此選項。 選擇下一頁按鈕。
                      </span>
                    </Space>
                  </Radio>
                  <Radio id="infinite-scroll" value={3}>
                    <Space size={0} direction="vertical">
                      Infinite Scroll
                      <span className="scraper-list__header__right--dropdown-items--desc">
                        當新的列表項是通過捲軸條滾動而增加時，請使用此滾動接頁。
                      </span>
                      <svg
                        width="22"
                        height="16"
                        viewBox="0 0 22 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M2.75 0C2.02065 0 1.32118 0.280951 0.805456 0.781048C0.289731 1.28115 0 1.95942 0 2.66667V13.3333C0 14.0406 0.289731 14.7189 0.805456 15.219C1.32118 15.719 2.02065 16 2.75 16H19.25C19.9793 16 20.6788 15.719 21.1945 15.219C21.7103 14.7189 22 14.0406 22 13.3333V2.66667C22 1.95942 21.7103 1.28115 21.1945 0.781048C20.6788 0.280951 19.9793 0 19.25 0H2.75ZM1.375 2.66667C1.375 2.31304 1.51987 1.97391 1.77773 1.72386C2.03559 1.47381 2.38533 1.33333 2.75 1.33333H10.3125V14.6667H2.75C2.38533 14.6667 2.03559 14.5262 1.77773 14.2761C1.51987 14.0261 1.375 13.687 1.375 13.3333V2.66667ZM11.6875 14.6667V1.33333H19.25C19.6147 1.33333 19.9644 1.47381 20.2223 1.72386C20.4801 1.97391 20.625 2.31304 20.625 2.66667V13.3333C20.625 13.687 20.4801 14.0261 20.2223 14.2761C19.9644 14.5262 19.6147 14.6667 19.25 14.6667H11.6875ZM19.0492 9.528C19.1133 9.58993 19.1641 9.6635 19.1987 9.74449C19.2334 9.82548 19.2512 9.91231 19.2512 10C19.2512 10.0877 19.2334 10.1745 19.1987 10.2555C19.1641 10.3365 19.1133 10.4101 19.0492 10.472L16.2992 13.1387C16.2354 13.2008 16.1595 13.25 16.076 13.2836C15.9925 13.3172 15.9029 13.3345 15.8125 13.3345C15.7221 13.3345 15.6325 13.3172 15.549 13.2836C15.4655 13.25 15.3896 13.2008 15.3258 13.1387L12.5758 10.472C12.4467 10.3468 12.3741 10.177 12.3741 10C12.3741 9.82297 12.4467 9.65318 12.5758 9.528C12.7048 9.40282 12.8799 9.33249 13.0625 9.33249C13.2451 9.33249 13.4202 9.40282 13.5492 9.528L15.8125 11.724L18.0758 9.528C18.1396 9.46592 18.2155 9.41666 18.299 9.38305C18.3825 9.34944 18.4721 9.33214 18.5625 9.33214C18.6529 9.33214 18.7425 9.34944 18.826 9.38305C18.9095 9.41666 18.9854 9.46592 19.0492 9.528ZM19.0492 5.528C19.1783 5.65318 19.2509 5.82297 19.2509 6C19.2509 6.17703 19.1783 6.34682 19.0492 6.472C18.9202 6.59718 18.7451 6.66751 18.5625 6.66751C18.3799 6.66751 18.2048 6.59718 18.0758 6.472L15.8125 4.276L13.5492 6.472C13.4202 6.59718 13.2451 6.66751 13.0625 6.66751C12.8799 6.66751 12.7048 6.59718 12.5758 6.472C12.4467 6.34682 12.3741 6.17703 12.3741 6C12.3741 5.82297 12.4467 5.65318 12.5758 5.528L15.3258 2.86133C15.3896 2.79925 15.4655 2.74999 15.549 2.71638C15.6325 2.68277 15.7221 2.66548 15.8125 2.66548C15.9029 2.66548 15.9925 2.68277 16.076 2.71638C16.1595 2.74999 16.2354 2.79925 16.2992 2.86133L19.0492 5.528Z"
                          fill="#616161"
                        />
                      </svg>
                    </Space>
                  </Radio>
                </Space>
              </Radio.Group>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="21"
                height="21"
                viewBox="0 0 21 21"
                fill="none"
                className="position-absolute"
                style={{ top: "8px", right: "8px", cursor: "pointer" }}
                onClick={() => setToggleFeedOptions(false)}
              >
                <path
                  d="M4.5 18L3 16.5L9 10.5L3 4.5L4.5 3L10.5 9L16.5 3L18 4.5L12 10.5L18 16.5L16.5 18L10.5 12L4.5 18Z"
                  fill="#616161"
                />
              </svg>
            </div>
          )}
          {feedOption == 2 && <PaginationStep />}
        </div>
        <button onClick={toggleTable}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="27"
            height="27"
            viewBox="0 0 27 27"
            fill="none"
          >
            <path
              d="M3.37499 8.99999C3.37499 9.61874 3.88124 10.125 4.49999 10.125H8.99999C9.61874 10.125 10.125 9.61874 10.125 8.99999V4.49999C10.125 3.88124 9.61874 3.37499 8.99999 3.37499C8.38124 3.37499 7.87499 3.88124 7.87499 4.49999V6.28874L5.19749 3.61124C5.09333 3.50708 4.96968 3.42446 4.8336 3.3681C4.69751 3.31173 4.55166 3.28271 4.40436 3.28271C4.25707 3.28271 4.11121 3.31173 3.97513 3.3681C3.83904 3.42446 3.71539 3.50708 3.61124 3.61124C3.50708 3.71539 3.42446 3.83904 3.3681 3.97513C3.31173 4.11121 3.28271 4.25707 3.28271 4.40436C3.28271 4.55166 3.31173 4.69751 3.3681 4.8336C3.42446 4.96968 3.50708 5.09333 3.61124 5.19749L6.28874 7.87499H4.49999C3.88124 7.87499 3.37499 8.38124 3.37499 8.99999ZM22.5 7.87499H20.7112L23.3887 5.19749C23.5991 4.98714 23.7173 4.70184 23.7173 4.40436C23.7173 4.10688 23.5991 3.82159 23.3887 3.61124C23.1784 3.40089 22.8931 3.28271 22.5956 3.28271C22.2981 3.28271 22.0128 3.40089 21.8025 3.61124L19.125 6.28874V4.49999C19.125 3.88124 18.6187 3.37499 18 3.37499C17.3812 3.37499 16.875 3.88124 16.875 4.49999V8.99999C16.875 9.61874 17.3812 10.125 18 10.125H22.5C23.1187 10.125 23.625 9.61874 23.625 8.99999C23.625 8.38124 23.1187 7.87499 22.5 7.87499ZM4.49999 19.125H6.28874L3.61124 21.8025C3.40089 22.0128 3.28271 22.2981 3.28271 22.5956C3.28271 22.8931 3.40089 23.1784 3.61124 23.3887C3.82159 23.5991 4.10688 23.7173 4.40436 23.7173C4.70184 23.7173 4.98714 23.5991 5.19749 23.3887L7.87499 20.7112V22.5C7.87499 23.1187 8.38124 23.625 8.99999 23.625C9.61874 23.625 10.125 23.1187 10.125 22.5V18C10.125 17.3812 9.61874 16.875 8.99999 16.875H4.49999C3.88124 16.875 3.37499 17.3812 3.37499 18C3.37499 18.6187 3.88124 19.125 4.49999 19.125ZM23.625 18C23.625 17.3812 23.1187 16.875 22.5 16.875H18C17.3812 16.875 16.875 17.3812 16.875 18V22.5C16.875 23.1187 17.3812 23.625 18 23.625C18.6187 23.625 19.125 23.1187 19.125 22.5V20.7112L21.8025 23.3887C22.0128 23.5991 22.2981 23.7173 22.5956 23.7173C22.8931 23.7173 23.1784 23.5991 23.3887 23.3887C23.5991 23.1784 23.7173 22.8931 23.7173 22.5956C23.7173 22.2981 23.5991 22.0128 23.3887 21.8025L20.7112 19.125H22.5C23.1187 19.125 23.625 18.6187 23.625 18Z"
              fill="white"
            />
          </svg>
        </button>
        <button>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 28 28"
            fill="none"
          >
            <path
              d="M5.83334 24.5C5.19167 24.5 4.64217 24.2713 4.18484 23.814C3.7275 23.3567 3.49922 22.8076 3.5 22.1667V17.5H5.83334V22.1667H22.1667V5.83334H5.83334V10.5H3.5V5.83334C3.5 5.19167 3.72867 4.64217 4.186 4.18484C4.64334 3.7275 5.19245 3.49922 5.83334 3.5H22.1667C22.8083 3.5 23.3578 3.72867 23.8152 4.186C24.2725 4.64334 24.5008 5.19245 24.5 5.83334V22.1667C24.5 22.8083 24.2713 23.3578 23.814 23.8152C23.3567 24.2725 22.8076 24.5008 22.1667 24.5H5.83334ZM12.25 19.8333L10.6167 18.1417L13.5917 15.1667H3.5V12.8333H13.5917L10.6167 9.85834L12.25 8.16667L18.0833 14L12.25 19.8333Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </div>
  );
};
