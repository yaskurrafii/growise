async function o(e){try{const n=await chrome.scripting.executeScript({target:{tabId:e},files:["app.js"]});if(console.log(n),(await t(e,{action:"init"})).status==="opened")return e}catch(n){console.error("Error injecting CSS or executing script:",n)}}async function t(e,n){return new Promise(s=>{chrome.tabs.sendMessage(e,n,c=>s(c))})}const i=new Set;chrome.action.onClicked.addListener(async function(e){i.has(e.id)?t(e.id,{action:"toggle"}):(await o(e.id),i.add(e.id))});
