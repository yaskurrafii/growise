async function o(e){try{await chrome.scripting.insertCSS({target:{tabId:e},files:["assets/main.css"]}),console.log("CSS injected!");const s=await chrome.scripting.executeScript({target:{tabId:e},files:["app.js"]});if(console.log(s),(await t(e,{action:"init"})).status==="opened")return e}catch(s){console.error("Error injecting CSS or executing script:",s)}}async function t(e,s){return new Promise(n=>{chrome.tabs.sendMessage(e,s,c=>n(c))})}const i=new Set;chrome.action.onClicked.addListener(async function(e){i.has(e.id)?t(e.id,{action:"toggle"}):(await o(e.id),i.add(e.id))});
